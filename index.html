<script src="http://127.0.0.1:3000/socket.io/socket.io.js"></script>

<div id="output"></div>
<script>
  var socket = io.connect('http://127.0.0.1:3000');
  output.innerHTML = "Connecting";
  socket.on('connect', function(){
  	socket.removeAllListeners("data");
	output.innerHTML = "Connected! Waiting.";
  	socket.emit('join',"main");
    socket.on('data', function (data) {
      console.log(data);
  	  output.innerHTML = JSON.stringify(data);
    });
  })
</script>
<pre>

	Example Scripts
	
	// Sub
	(function(address){
	  $.getScript(address+"/socket.io/socket.io.js",function(){
	    var socket = io.connect(address);
	    socket.emit('join',"main");
	    socket.on('data', function (data) {
	      console.log(data);
	    });
	  });
	})('http://192.168.1.180:3000');

	// Pub
	$.ajax({
	  type: "POST",
	  url: 'http://192.168.1.180:3000/',
	  data: { refresh:new Date() },
	  dataType: "json",
	  headers: {
	    "X-Connection-Password":"sylvane",
	    "X-Broadcast-Channel":"main",
	  }
	});

</pre>